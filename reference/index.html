<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>hs-rosetta</h1>
<p><img src="https://github.com/handshake-org/hs-rosetta/workflows/Node.js%20CI/badge.svg" alt="Node.js CI"></p>
<p>hs-rosetta is a <a href="https://github.com/handshake-org/hsd">hsd</a> plugin for coinbase rosetta.</p>
<h2>Usage</h2>
<pre><code>hsd --plugins hs-rosetta --index-tx --index-address
</code></pre>
<p>requires <code>--index-tx</code> <code>--index-address</code> for reporting account balances.</p>
<h2>Reference</h2>
<p>https://djr6hkgq2tjcs.cloudfront.net</p>
<p>NOTE: We do not support querying address balance by height yet. According to
the spec, this is optional.</p>
<h2>Testing</h2>
<p>Install hsd:</p>
<pre><code>$ git clone https://github.com/handshake-org/hsd
$ cd hsd
$ npm install
</code></pre>
<p>Install hs-rosetta:</p>
<pre><code>$ git clone https://github.com/tuxcanfly/hs-rosetta
$ cd hs-rosetta
$ npm install
$ npm link
</code></pre>
<p>Link hs-rosetta:</p>
<pre><code>$ cd hsd
$ npm link hs-rosetta
</code></pre>
<p>Sync mainnet:</p>
<pre><code>$ hsd --plugins hs-rosetta --index-tx --index-address
</code></pre>
<p>Install rosetta-cli:</p>
<pre><code>$ go get github.com/coinbase/rosetta-cli
</code></pre>
<p>Run check:</p>
<pre><code>$ rosetta-cli check --lookup-balance-by-block=false
</code></pre>
<p>NOTE: <code>--lookup-balance-by-block=false</code> is required because we do not support
querying address balance by height yet.</p>
<p>Successful result:</p>
<pre><code>&gt;&gt;Adding block &amp;{Index:17819 Hash:00000000000002146e6df64bc47a06b89e936b5e4f5349e3ffbaab27e4439644}
&gt;&gt;...
&gt;&gt;2020/06/03 17:17:38 Syncer at tip 17820...sleeping
</code></pre>
<p>If it fails, you might see <code>Reconciliation failed</code> or similar error. Please
report it.</p>
<h2>Config</h2>
<p>Options to the Rosetta HTTP Server can be configured by using the following
arguments prefix with <code>--rosetta</code>, for example: <code>--rosetta-http-port=8123</code>:</p>
<pre><code>  http-host: HTTP host (127.0.0.1)
  http-port: HTTP port (8080)
  api-key: API key (disabled)
  no-auth: Disable auth (disabled for localhost)
  cors: Enable CORS (disabled)
  ssl: Whether to enable SSL (false)
  ssl-key: SSL key (disabled)
  ssl-cert: SSL cert (disabled)
</code></pre>
<p>Defaults are indicated in paranthesis.</p>
<p>The same options can be configured using the file: <code>~/.hsd/rosetta.conf</code>
assuming the <code>prefix</code> is <code>~/.hsd</code>, for example:</p>
<pre><code>$ cat ~/.hsd/rosetta.conf

rosetta-http-port: 8123
</code></pre>
<h2>Contribution and License Agreement</h2>
<p>If you contribute code to this project, you are implicitly allowing your code
to be distributed under the MIT license. You are also implicitly verifying that
all code is your original work. <code>&lt;/legalese&gt;</code></p>
<h2>License</h2>
<p>Copyright (c) 2020, The Handshake Developers (MIT License)</p>
<p>See LICENSE for more info.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-plugin.html">plugin</a></li></ul><h3>Classes</h3><ul><li><a href="module-http.HTTPOptions.html">HTTPOptions</a></li><li><a href="module-http.Server.html">HTTP</a></li><li><a href="module-plugin-Plugin.html">Plugin</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Fri Jun 19 2020 23:38:26 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>